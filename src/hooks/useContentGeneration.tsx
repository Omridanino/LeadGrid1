
import { useState } from "react";

export const useContentGeneration = (formData: any) => {
  const [generatedContent, setGeneratedContent] = useState<any>(null);

  // יצירת כותרות יצירתיות וחכמות לא קשורות למילים בשאלון
  const getCreativeHeadlines = () => {
    const headlines = [
      "הדרך החכמה להצלחה מבטיחה",
      "כאן מתחילים החלומות להתממש",
      "הפתרון שחיפשתם כל הזמן",
      "איכות שמדברת בשביל עצמה",
      "המקום שבו הכל קורה",
      "הבחירה הנכונה עבורכם",
      "חדשנות שמשנה את המשחק",
      "מעולה בכל פרמטר",
      "התחילו את המסע שלכם כאן",
      "הפתרון המושלם לכל צורך",
      "איכות ברמה אחרת לגמרי",
      "הדרך הטובה ביותר להצליח",
      "כאן תמצאו את מה שחיפשתם",
      "המהפכה שלכם מתחילה עכשיו",
      "פתרונות חכמים לעולם מודרני"
    ];
    return headlines[Math.floor(Math.random() * headlines.length)];
  };

  // יצירת תתי כותרות יצירתיות
  const getCreativeSubheadlines = () => {
    const subheadlines = [
      "גלו את הדרך החדשה לעשות דברים נכון. עם הניסיון והמומחיות שלנו, אנחנו נוביל אתכם להצלחה מבטיחה ומרגשת.",
      "המסע שלכם להצלחה מתחיל כאן ועכשיו. אנחנו נלווה אתכם בכל שלב ונדאג שתגיעו בדיוק למקום שחלמתם עליו.",
      "פתרונות חכמים ומתקדמים שנותנים תוצאות אמיתיות. אנחנו כאן כדי להפוך כל חלום למציאות מוחשית ומרגשת.",
      "איכות ללא פשרות עם שירות אישי וחם. המטרה שלנו היא לעזור לכם להגיע למקום הכי טוב ומוצלח שיכול להיות.",
      "מעולות ברמה הגבוהה ביותר עם דגש על תוצאות מדהימות. בואו נגשים יחד את כל מה שחלמתם עליו.",
      "הפתרון המושלם לכל האתגרים שלכם. עם הגישה המקצועית והחדשנית שלנו, הכל אפשרי וכל דבר מתאפשר.",
      "כאן פוגשים מקצועיות ויצירתיות ברמה שלא הכרתם. המחויבות שלנו היא להצלחה שלכם ולתוצאות מעולות."
    ];
    return subheadlines[Math.floor(Math.random() * subheadlines.length)];
  };

  // יצירת תכונות יצירתיות ומעניינות
  const getCreativeFeatures = () => {
    const featureCategories = [
      ["שירות מקצועי ברמה הגבוהה ביותר", "צוות מנוסה ומומחה", "פתרונות מותאמים אישית"],
      ["איכות ללא פשרות", "מחויבות מלאה לתוצאות", "שירות זמין תמיד"],
      ["גישה חדשנית ומתקדמת", "שיטות עבודה יעילות", "תוצאות מדהימות"],
      ["יחס אישי וחם", "הבנת הצרכים שלכם", "ליווי מלא לאורך הדרך"],
      ["מחירים הוגנים ותחרותיים", "שקיפות מלאה", "ללא הפתעות לא נעימות"],
      ["ניסיון רב שנים", "מומחיות מוכחת", "רקורד הצלחות מרשים"],
      ["זמינות גבוהה", "מענה מהיר ויעיל", "תמיכה מקצועית"],
      ["אמינות ובטיחות", "סטנדרטים גבוהים", "בקרת איכות קפדנית"]
    ];
    
    const randomCategory = featureCategories[Math.floor(Math.random() * featureCategories.length)];
    const additionalFeatures = [
      "חדשנות טכנולוגית מתקדמת",
      "פתרונות יצירתיים ומקוריים", 
      "ביצועים מעולים ויציבים",
      "התאמה מושלמת לכל צורך"
    ];
    
    return [...randomCategory, ...additionalFeatures.slice(0, Math.floor(Math.random() * 3) + 2)];
  };

  // יצירת המלצות יצירתיות
  const getCreativeTestimonials = () => {
    const names = ["רחל כהן", "דוד לוי", "שרה אברהם", "יוסי מזרחי", "מירי רוזן", "אבי ישראלי", "נועה גרין", "רן שמיר"];
    const roles = ["יזמת מובילה", "מנהל עסק", "בעלת חברה", "יועץ עסקי", "מנהלת פרויקטים", "איש עסקים", "יועצת שיווק", "מנכ\"ל"];
    const testimonialTemplates = [
      "השירות פשוט מעבר לכל דמיון! קיבלתי בדיוק מה שחיפשתי ואפילו יותר",
      "מקצועיות ברמה שלא הכרתי. ממליצה בחום לכל מי שמחפש איכות אמיתית",
      "התוצאות עלו על כל הציפיות שלי. שירות יוצא מן הכלל עם תשומת לב לפרטים",
      "בזכותם הצלחתי להגיע למטרות שלי ואף לחרוג מהן בהרבה",
      "השקעה שמשתלמת לטווח הארוך. ממליץ בחום לכל מי שרוצה תוצאות",
      "הגישה המקצועית והחדשנית עזרה לי להגיע לתוצאות שלא חלמתי עליהן",
      "שירות מושלם עם יחס אישי וחם. כל פרט נלקח בחשבון עד הסוף"
    ];

    const shuffledNames = names.sort(() => 0.5 - Math.random());
    const shuffledRoles = roles.sort(() => 0.5 - Math.random());
    const shuffledTemplates = testimonialTemplates.sort(() => 0.5 - Math.random());

    return Array.from({ length: 3 }, (_, i) => ({
      name: shuffledNames[i],
      role: shuffledRoles[i],
      content: shuffledTemplates[i],
      rating: 5
    }));
  };

  // יצירת שאלות ותשובות יצירתיות
  const getCreativeFAQ = () => {
    const faqTemplates = [
      {
        question: "מה הופך אתכם למיוחדים בתחום?",
        answer: "השילוב הייחודי שלנו בין מקצועיות גבוהה, שירות אישי וחם ומחויבות מלאה לתוצאות מעולות הוא מה שמייחד אותנו."
      },
      {
        question: "כמה זמן לוקח לראות תוצאות?",
        answer: "אנחנו מחויבים למתן שירות מהיר ויעיל. הזמן תלוי בסוג השירות, אך אנחנו תמיד עומדים בלוחות הזמנים המוסכמים."
      },
      {
        question: "האם יש אחריות על השירות?",
        answer: "כן! אנחנו נותנים אחריות מלאה על כל השירותים שלנו ומתחייבים לשביעות רצון מלאה של הלקוחות."
      },
      {
        question: "איך אפשר ליצור קשר?",
        answer: "תוכלו ליצור קשר בכל דרך שנוחה לכם. אנחנו נשמח לספק ייעוץ מקצועי ולענות על כל שאלה."
      },
      {
        question: "מה כולל השירות שלכם?",
        answer: "אנחנו מספקים פתרון מלא ומותאם אישית שכולל הכל מא' עד ת' ברמה הגבוהה ביותר."
      },
      {
        question: "האם אתם עובדים עם לקוחות בכל הארץ?",
        answer: "כן, אנחנו מספקים שירות לכל הארץ עם אותה רמת מקצועיות ואיכות בכל מקום."
      }
    ];
    
    const shuffled = faqTemplates.sort(() => 0.5 - Math.random());
    return shuffled.slice(0, 4);
  };

  // יצירת סטטיסטיקות דינמיות ויצירתיות
  const getDynamicStats = () => {
    const statTypes = [
      { key: 'לקוחות מרוצים', values: ['2,500+', '3,200+', '4,100+', '5,000+'] },
      { key: 'שנות ניסיון', values: ['8+', '10+', '12+', '15+'] },
      { key: 'שביעות רצון', values: ['95%', '96%', '98%', '99%'] },
      { key: 'פרויקטים הושלמו', values: ['300+', '450+', '600+', '800+'] }
    ];

    const stats: { [key: string]: string } = {};
    statTypes.forEach(stat => {
      const randomValue = stat.values[Math.floor(Math.random() * stat.values.length)];
      stats[stat.key] = randomValue;
    });

    return stats;
  };

  // יצירת אלמנטים מותאמים אישית
  const getRandomCustomElements = () => {
    const elements = [
      {
        type: 'testimonial',
        content: {
          name: "עמית ברקוביץ'",
          role: "מנהל טכנולוגיות",
          content: "הפתרון הכי חכם ויעיל שנתקלתי בו. שינה לי את כל דרך העבודה לטובה",
          rating: 5
        }
      },
      {
        type: 'text',
        content: {
          text: "אנחנו מאמינים שכל לקוח ראוי לקבל את השירות הטוב ביותר. המחויבות שלנו היא להפוך כל חלום למציאות מוחשית."
        }
      },
      {
        type: 'faq',
        content: {
          question: "למה כדאי לבחור דווקא בכם?",
          answer: "בגלל השילוב הייחודי של מקצועיות, חדשנות ויחס אישי שאתם לא תמצאו בשום מקום אחר."
        }
      },
      {
        type: 'title',
        content: {
          text: "הסיפור שלנו מתחיל איתכם",
          size: 'h2'
        }
      }
    ];

    const shuffled = elements.sort(() => 0.5 - Math.random());
    return shuffled.slice(0, Math.floor(Math.random() * 3) + 2);
  };

  const generateCreativeContent = () => {
    const stats = getDynamicStats();
    
    return {
      stats: stats,
      badge: "✨ מובילים בתחום באיכות ובשירות",
      headline: getCreativeHeadlines(),
      subheadline: getCreativeSubheadlines(),
      cta: "בואו נתחיל יחד!",
      featuresTitle: "למה כדאי לבחור דווקא בנו?",
      aboutTitle: "הסיפור שלנו",
      aboutText: "אנחנו מאמינים שכל לקוח ראוי לקבל את השירות הטוב ביותר. עם שנות ניסיון רבות, צוות מקצועי ומתקדם וגישה חדשנית, אנחנו כאן כדי להפוך כל חלום למציאות מוחשית. המטרה שלנו היא פשוטה: לספק לכם בדיוק את מה שאתם צריכים ברמה הגבוהה ביותר האפשרית.",
      contactTitle: "בואו נכיר ונתחיל לעבוד יחד",
      features: getCreativeFeatures(),
      testimonials: getCreativeTestimonials(),
      faq: getCreativeFAQ(),
      emotional: {
        title: "כאן מתחילים החלומות להתממש",
        content: "כל מסע מתחיל בצעד אחד נכון ואמיץ. אנחנו כאן כדי ללוות אתכם בדרך המרגשת הזאת ולהבטיח שתגיעו בדיוק למקום שחלמתם עליו. עם המומחיות, הניסיון והמחויבות שלנו, הכל אפשרי וכל חלום יכול להתממש."
      },
      customElements: getRandomCustomElements()
    };
  };

  return {
    generatedContent,
    setGeneratedContent,
    generateCreativeContent
  };
};
