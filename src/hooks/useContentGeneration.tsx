

import { useMemo, useState } from 'react';

const getBusinessTypeContent = (businessType: string, businessAdvantages: string) => {
  const advantages = businessAdvantages ? businessAdvantages.split('\n').filter(adv => adv.trim()) : [];
  
  // Generate profession-specific content
  const professionData = {
    // Restaurant/Food
    '××¡×¢×“×”': {
      features: ['×× ×•×ª ×˜×¨×™×•×ª ×™×•××™×•×ª', '×©×™×¨×•×ª ××”×™×¨ ×•××§×¦×•×¢×™', '××•×•×™×¨×” × ×¢×™××” ×•××–××™× ×”', '××—×™×¨×™× ×”×•×’× ×™×'],
      testimonials: [
        { name: '×¨×—×œ ×›×”×Ÿ', role: '×œ×§×•×—×” ×§×‘×•×¢×”', content: '×”×’×¢×ª×™ ×œ×›××Ÿ ×¢× ×”××©×¤×—×” ×‘×©×™×©×™ ×‘×¢×¨×‘ ×•×”×—×•×•×™×” ×”×™×™×ª×” ××“×”×™××”! ×”×˜×¢××™×, ×”×©×™×¨×•×ª ×•×”××•×•×™×¨×” - ×”×›×œ ××•×©×œ×. ×—×–×¨× ×• ×›×‘×¨ ×©×œ×•×© ×¤×¢××™× ×”×©×‘×•×¢.', rating: 5, image: 'ğŸ‘©' },
        { name: '×“×•×“ ×œ×•×™', role: '×ª×•×©×‘ ×”×©×›×•× ×”', content: '×›×‘×¨ ×©× ×ª×™×™× ×©×× ×™ ××•×›×œ ×›××Ÿ ×‘×§×‘×™×¢×•×ª. ×”××™×›×•×ª ×ª××™×“ ×¢×§×‘×™×ª, ×”×× ×•×ª ×ª××™×“ ×˜×¨×™×•×ª ×•×”×¦×•×•×ª ××›×™×¨ ××•×ª×™ ×‘××•×¤×Ÿ ××™×©×™. ×–×” ×”×‘×™×ª ×”×©× ×™ ×©×œ×™.', rating: 5, image: 'ğŸ‘¨' },
        { name: '××™×¨×™ ×©××©', role: '×—×•×’×’×ª ×™×•× ×”×•×œ×“×ª', content: '×—×’×’× ×• ×›××Ÿ ××ª ×™×•× ×”×”×•×œ×“×ª ×©×œ ×‘×ª×™. ×”×¦×•×•×ª ×”×›×™×Ÿ ×”×¤×ª×¢×” ××™×•×—×“×ª, ×”×™×œ×“×™× × ×”× ×• ××©×¢×©×•×¢×™× ×•×”××•×›×œ ×”×™×” ×¤× ×˜×¡×˜×™. ×ª×•×“×” ×¢×œ ×”×—×•×•×™×” ×”×‘×œ×ª×™ × ×©×›×—×ª!', rating: 5, image: 'ğŸ‘©â€ğŸ¦±' }
      ],
      faq: [
        { question: '××” ×”××•××—×™×•×ª ×”××™×•×—×“×ª ×©×œ ×”××¡×¢×“×”?', answer: '×× ×—× ×• ××ª××—×™× ×‘×‘×™×©×•×œ ×‘×™×ª×™ ××•×ª× ×˜×™ ×¢× ××¨×›×™×‘×™× ×˜×¨×™×™× ×•××ª×›×•× ×™× ××©×¤×—×ª×™×™×' },
        { question: '×”×× ×™×© ×ª×¤×¨×™×˜ ××™×•×—×“ ×œ×™×œ×“×™×?', answer: '×›××•×‘×Ÿ! ×™×© ×œ× ×• ×ª×¤×¨×™×˜ ×™×œ×“×™× ××’×•×•×Ÿ ×¢× ×× ×•×ª ×©×”×™×œ×“×™× ××•×”×‘×™×' },
        { question: '××™×š ××–××™× ×™× ×©×•×œ×—×Ÿ ×œ××™×¨×•×¢?', answer: '× ×™×ª×Ÿ ×œ×”×–××™×Ÿ ×˜×œ×¤×•× ×™×ª ××• ×“×¨×š ×”××ª×¨. ×× ×—× ×• ××¦×™×¢×™× ×—×‘×™×œ×•×ª ××™×•×—×“×•×ª ×œ××™×¨×•×¢×™×' }
      ],
      aboutText: '×”××¡×¢×“×” ×©×œ× ×• × ×•×¡×“×” ××ª×•×š ××”×‘×” ×××™×ª×™×ª ×œ×‘×™×©×•×œ ×•×œ××™×¨×•×—. ×× ×—× ×• ××‘×™××™× ×œ×©×•×œ×—×Ÿ ×©×œ×›× ×˜×¢××™× ×‘×™×ª×™×™× ××•×ª× ×˜×™×™× ×¢× ×©×™×¨×•×ª ×—× ×•××™×©×™. ×›×œ ×× ×” ××•×›× ×ª ×‘×§×¤×™×“×” ××¨××ª ××¨×›×™×‘×™× ×”×˜×¨×™×™× ×‘×™×•×ª×¨.',
      emotional: {
        title: '×”×˜×¢× ×©×œ ×‘×™×ª, ×”×—×•×•×™×” ×©×œ ×—×™×™×',
        content: '×›×œ ××¨×•×—×” ××¦×œ× ×• ×”×™× ×œ× ×¨×§ ××•×›×œ - ×–×• ×—×•×•×™×” ××©×¤×—×ª×™×ª ×©×œ××”. ××”×¨×’×¢ ×©××ª× × ×›× ×¡×™× ××ª× ××¨×’×™×©×™× ××ª ×”×—××™××•×ª ×”×‘×™×ª×™×ª ×•××ª ×”×˜×¢××™× ×©××–×›×™×¨×™× ×œ×›× ××ª ×”×‘×™×ª.'
      }
    },
    
    // Coffee Shop  
    '×‘×™×ª ×§×¤×”': {
      features: ['×§×¤×” ××™×›×•×ª×™ ××§×œ×™×™×” ××§×•××™×ª', '××•×•×™×¨×” ×©×§×˜×” ×•× ×¢×™××” ×œ×¢×‘×•×“×”', '××‘×—×¨ ×¢×•×’×•×ª ×•×××¤×™× ×˜×¨×™×™×', '×©×™×¨×•×ª ××™×©×™ ×•×—×'],
      testimonials: [
        { name: '×™×¢×œ ×’×•×œ×Ÿ', role: '×¤×¨×™×œ× ×¡×¨×™×ª', content: '×–×” ×”×‘×™×ª ×”×§×¤×” ×”×§×‘×•×¢ ×©×œ×™! ×›×œ ×‘×•×§×¨ ×× ×™ ××’×™×¢×” ×œ×›××Ÿ ×¢× ×”××—×©×‘ ×”× ×™×™×“. ×”×¦×•×•×ª ×›×‘×¨ ×™×•×“×¢ ×‘×“×™×•×§ ××™×š ×× ×™ ××•×”×‘×ª ××ª ×”×§×¤×” ×•×”× ×ª××™×“ ×©×•××¨×™× ×œ×™ ××ª ×”×©×•×œ×—×Ÿ ×”×§×˜×Ÿ ×œ×™×“ ×”×—×œ×•×Ÿ.', rating: 5, image: 'ğŸ‘©â€ğŸ’»' },
        { name: '×ª×•× ×‘×¨×§', role: '×¡×˜×•×“× ×˜', content: '×›×ª×‘×ª×™ ×›××Ÿ ××ª ×›×œ ×”×¢×‘×•×“×•×ª ×©×œ ×”×ª×•××¨. ×”××•×•×™×¨×” ××•×©×œ××ª ×œ×œ××™×“×”, ×”×§×¤×” ××¦×•×™×Ÿ ×•×”××—×™×¨×™× ×¡×‘×™×¨×™× ×œ×¡×˜×•×“× ×˜. ×”×‘×¢×œ×™× ××¤×™×œ×• × ×ª×Ÿ ×œ×™ ×”× ×—×” ×‘×ª×§×•×¤×ª ×”×‘×—×™× ×•×ª!', rating: 5, image: 'ğŸ‘¨â€ğŸ“' },
        { name: '×œ×™××ª ××–×•×¨', role: '××× ×¢×•×‘×“×ª', content: '×–×” ×”××§×•× ×©×œ×™ ×œ×”×¤×•×’×” ×‘×™×Ÿ ×”×¢×‘×•×“×” ×œ×‘×™×ª. ×›×œ ×¤×¢× ×©×× ×™ ××’×™×¢×” ×”×¦×•×•×ª ××§×‘×œ ××•×ª×™ ×‘×—×™×•×š, ×–×•×›×¨ ××” ×× ×™ ××•×”×‘×ª ×•× ×•×ª×Ÿ ×œ×™ ××ª ×”×¨×’×™×¢×” ×©×× ×™ ×¦×¨×™×›×”. ×–×” ×™×•×ª×¨ ××‘×™×ª ×§×¤×” - ×–×” ××©×¤×—×”.', rating: 5, image: 'ğŸ‘©â€ğŸ’¼' }
      ],
      faq: [
        { question: '××” ××™×•×—×“ ×‘×§×¤×” ×©×œ×›×?', answer: '×× ×—× ×• ×¢×•×‘×“×™× ×¢× ×§×œ×™×™×” ××§×•××™×ª ×•×‘×•×—×¨×™× ×‘×§×¤×™×“×” ××ª ×”×¤×•×œ×™× ×”×˜×•×‘×™× ×‘×™×•×ª×¨ ××›×œ ×”×¢×•×œ×' },
        { question: '×”×× ×™×© ××•×›×œ ×˜×¨×™ ×›×œ ×™×•×?', answer: '×›×œ ×”×›×¨×™×›×™× ×•×”×××¤×™× × ×¢×©×™× ×‘×‘×•×§×¨ ×‘××˜×‘×— ×©×œ× ×• ×‘×˜×›× ×™×§×•×ª ×‘×™×ª×™×•×ª' },
        { question: '××™×š ×”××•×•×™×¨×” ××ª××™××” ×œ×¢×‘×•×“×”?', answer: '×™×¦×¨× ×• ××§×•× ×©×§×˜ ×¢× WiFi ××”×™×¨, ×©×§×¢×™ ×—×©××œ ×‘×›×œ ×©×•×œ×—×Ÿ ×•××•×–×™×§×” ×¨×§×¢ × ×¢×™××”' }
      ],
      aboutText: '×‘×™×ª ×”×§×¤×” ×©×œ× ×• × ×•×¦×¨ ××—×œ×•× ×œ×”×‘×™× ×§×¤×” ××™×›×•×ª×™ ×•××•×•×™×¨×” ×‘×™×ª×™×ª ×œ×©×›×•× ×”. ×× ×—× ×• ××›×™×¨×™× ×›×œ ×œ×§×•×— ×‘×©××•, ×–×•×›×¨×™× ××ª ×”×”×¢×“×¤×•×ª ×©×œ×• ×•×™×•×¦×¨×™× ×—×•×•×™×ª ×§×¤×” ××™×©×™×ª ×•××™×•×—×“×”.',
      emotional: {
        title: '×”×‘×™×ª ×”×©× ×™ ×©×œ×›× ×‘×©×›×•× ×”',
        content: '×›×œ ×›×•×¡ ×§×¤×” ××¦×œ× ×• ×”×™× ×”×–×“×× ×•×ª ×œ×™×¦×•×¨ ×§×©×¨ ×× ×•×©×™. ×× ×—× ×• ×œ× ×¨×§ ××›×™× ×™× ×§×¤×” - ×× ×—× ×• ×‘×•× ×™× ×§×”×™×œ×” ×©×œ ×× ×©×™× ×©××•×”×‘×™× ×œ×”×¨×’×™×© ×‘×‘×™×ª.'
      }
    },

    // Technology/Software
    '×¤×™×ª×•×— ×ª×•×›× ×”': {
      features: ['×¤×ª×¨×•× ×•×ª ×˜×›× ×•×œ×•×’×™×™× ×—×“×©× ×™×™×', '×¦×•×•×ª ××§×¦×•×¢×™ ×¢× × ×™×¡×™×•×Ÿ ××•×›×—', '×œ×™×•×•×™ ××™×©×™ ×œ××•×¨×š ×›×œ ×”×¤×¨×•×™×§×˜', '×˜×›× ×•×œ×•×’×™×•×ª ××ª×§×“××•×ª ×•×¢×“×›× ×™×•×ª'],
      testimonials: [
        { name: '××‘×™ ×™×©×¨××œ×™', role: '×× ×›"×œ ×¡×˜××¨×˜-××¤', content: '×”×’×¢×ª×™ ××œ×™×”× ×¢× ×¨×¢×™×•×Ÿ ××¢×•×¨×¤×œ ×œ××¤×œ×™×§×¦×™×”. ×”× ×œ× ×¨×§ ×¤×™×ª×—×• ×œ×™ ××•×¦×¨ ××“×”×™×, ××œ× ×’× ×™×™×¢×¦×• ×œ×™ ××™×š ×œ×”×¦×™×’ ××•×ª×• ×œ××©×§×™×¢×™×. ×”×¤×¨×•×™×§×˜ ×”×•×©×§ ×‘×–××Ÿ ×•×‘×ª×§×¦×™×‘, ×•×›×™×•× ×™×© ×œ× ×• ××œ×¤×™ ××©×ª××©×™× ×¤×¢×™×œ×™×.', rating: 5, image: 'ğŸ‘¨â€ğŸ’¼' },
        { name: '×“× ×” ×¨×•×–×Ÿ', role: '×× ×”×œ×ª IT', content: '×”× ×‘× ×• ×œ× ×• ××¢×¨×›×ª × ×™×”×•×œ ×¤× ×™××™×ª ×©×—×¡×›×” ×œ× ×• ×©×¢×•×ª ×¢×‘×•×“×” ×›×œ ×™×•×. ××” ×©××¨×©×™× ××•×ª×™ ×–×” ×”×©×™×¨×•×ª ×”××ª××©×š - ×’× ×©× ×” ××—×¨×™ ×”××¡×™×¨×” ×”× ×¢×“×™×™×Ÿ ×–××™× ×™× ×œ×›×œ ×©××œ×” ×•×¢×“×›×•×Ÿ.', rating: 5, image: 'ğŸ‘©â€ğŸ’»' },
        { name: '×¨×•×Ÿ ××œ×›×”', role: '×™×–× ×“×™×’×™×˜×œ×™', content: '×¢×‘×“×ª×™ ×¢× ×”×¨×‘×” ×—×‘×¨×•×ª ×¤×™×ª×•×—, ××‘×œ ×›××Ÿ ××¦××ª×™ ×©×•×ª×¤×™× ×××™×ª×™×™×. ×”× ×”×‘×™× ×• ××ª ×”×—×–×•×Ÿ ×©×œ×™, ×”×¦×™×¢×• ×¤×ª×¨×•× ×•×ª ×™×¦×™×¨×ª×™×™× ×•××¡×¨×• ×¤×¨×•×™×§×˜ ×©×—×¨×’ ××›×œ ×”×¦×™×¤×™×•×ª ×©×œ×™.', rating: 5, image: 'ğŸ‘¨â€ğŸ”¬' }
      ],
      faq: [
        { question: '××™×š ×ª×”×œ×™×š ×”×¤×™×ª×•×— × ×¨××”?', answer: '×× ×—× ×• ××ª×—×™×œ×™× ×‘×”×‘× ×ª ×”×¦×¨×›×™×, ×××©×™×›×™× ×œ×ª×›× ×•×Ÿ ××¤×•×¨×˜, ×•××¤×ª×—×™× ×‘×©×œ×‘×™× ×¢× ××¢×•×¨×‘×•×ª ×•××©×•×‘ ××ª××™×“' },
        { question: '××” ×§×•×¨×” ××—×¨×™ ×”×•×©×§×ª ×”××•×¦×¨?', answer: '×× ×—× ×• × ×•×ª× ×™× ×ª××™×›×” ××œ××”, ×¢×“×›×•× ×™× ×‘×™×˜×—×•× ×™×™× ×•××•×›× ×™× ×œ×”×¨×—×‘×•×ª ×¢×ª×™×“×™×•×ª' },
        { question: '××™×š ××ª× ××‘×˜×™×—×™× ××™×›×•×ª?', answer: '×× ×—× ×• ×¢×•×‘×“×™× ×¢× ×‘×“×™×§×•×ª ××ª××©×›×•×ª, ×¡×§×™×¨×•×ª ×§×•×“ ×•×¡×˜× ×“×¨×˜×™× ×’×‘×•×”×™× ×©×œ ×ª×›× ×•×ª' }
      ],
      aboutText: '×× ×—× ×• ×¦×•×•×ª ×©×œ ××¤×ª×—×™× × ×œ×”×‘×™× ×©××××™× ×™× ×©×˜×›× ×•×œ×•×’×™×” ×¦×¨×™×›×” ×œ×¤×ª×•×¨ ×‘×¢×™×•×ª ×××™×ª×™×•×ª. ×× ×—× ×• ×œ× ×¨×§ ×›×•×ª×‘×™× ×§×•×“ - ×× ×—× ×• ×‘×•× ×™× ×¤×ª×¨×•× ×•×ª ×©××§×“××™× ×¢×¡×§×™× ×•×™×•×¦×¨×™× ×¢×¨×š ×××™×ª×™.',
      emotional: {
        title: '×”×©×•×ª×¤×™× ×”×˜×›× ×•×œ×•×’×™×™× ×©×œ×›×',
        content: '×›×œ ×¤×¨×•×™×§×˜ ××¦×œ× ×• ××ª×—×™×œ ×‘×”×§×©×‘×” ×œ×—×œ×•××•×ª ×©×œ×›× ×•××¡×ª×™×™× ×‘×”×’×©××” ×©×œ×”×. ×× ×—× ×• ×œ× ×¨×§ ×¡×¤×§×™ ×©×™×¨×•×ª - ×× ×—× ×• ×”×©×•×ª×¤×™× ×©×œ×›× ×‘×“×¨×š ×œ×”×¦×œ×—×” ×“×™×’×™×˜×œ×™×ª.'
      }
    },

    // Default for other professions
    'default': {
      features: ['×©×™×¨×•×ª ××§×¦×•×¢×™ ×•×××™×Ÿ', '× ×™×¡×™×•×Ÿ ×¨×‘ ×‘×ª×—×•×', '×’×™×©×” ××™×©×™×ª ×œ×›×œ ×œ×§×•×—', '×ª×•×¦××•×ª ××•×›×—×•×ª'],
      testimonials: [
        { name: '××™×›×œ ×‘×¨×§', role: '×œ×§×•×—×” ××¨×•×¦×”', content: '×”×’×¢×ª×™ ××œ×™×”× ×¢× ×‘×¢×™×” ××¡×•×‘×›×ª ×©××£ ××—×“ ×œ× ×”×¦×œ×™×— ×œ×¤×ª×•×¨. ×”× ×œ× ×¨×§ ××¦××• ×¤×ª×¨×•×Ÿ, ××œ× ×’× ×”×¡×‘×™×¨×• ×œ×™ ××ª ×›×œ ×”×ª×”×œ×™×š ×•× ×ª× ×• ×œ×™ ×›×œ×™× ×œ×”×ª××•×“×“ ×œ×¢×ª×™×“. ×”×©×™×¨×•×ª ×”××™×©×™ ×©×œ×”× ×‘×××ª ×™×•×¦× ×“×•×¤×Ÿ.', rating: 5, image: 'ğŸ‘©' },
        { name: '×™×•×¡×™ ×›×”×Ÿ', role: '×œ×§×•×— ×§×‘×•×¢', content: '×× ×™ ×¢×•×‘×“ ××™×ª× ×›×‘×¨ ×©×œ×•×© ×©× ×™× ×•×›×œ ×¤×¢× ×”× ××¤×ª×™×¢×™× ××•×ª×™. ×”× ×–×•×›×¨×™× ××ª ×”×¤×¨×˜×™× ×”×§×˜× ×™×, ××ª××™××™× ××ª ×”×©×™×¨×•×ª ×‘×“×™×•×§ ×œ×¦×¨×›×™× ×©×œ×™ ×•×ª××™×“ ×–××™× ×™× ×›×©×× ×™ ×¦×¨×™×š ××•×ª×.', rating: 5, image: 'ğŸ‘¨' },
        { name: '×©×¨×” ×œ×•×™', role: '×œ×§×•×—×” ××¨×•×¦×”', content: '××” ×©×”×›×™ ××¨×©×™× ××•×ª×™ ×–×” ×”×›× ×•×ª ×•×”×©×§×™×¤×•×ª ×©×œ×”×. ×”× ×ª××™×“ ××•××¨×™× ×œ×™ ×‘×“×™×•×§ ××” ×”× ×™×›×•×œ×™× ×œ×¢×©×•×ª, ×›××” ×–×” ×™×¢×œ×” ×•×›××” ×–××Ÿ ×–×” ×™×™×§×—. ××™×Ÿ ×”×¤×ª×¢×•×ª, ×¨×§ ×©×™×¨×•×ª ××§×¦×•×¢×™ ×•×××™×Ÿ.', rating: 5, image: 'ğŸ‘©â€ğŸ¦±' }
      ],
      faq: [
        { question: '××” ××‘×“×™×œ ××ª×›× ××”××ª×—×¨×™×?', answer: '×× ×—× ×• ××©×§×™×¢×™× ×–××Ÿ ×œ×”×›×™×¨ ×›×œ ×œ×§×•×— ××™×©×™×ª ×•×œ×”×ª××™× ××ª ×”×©×™×¨×•×ª ×‘×“×™×•×§ ×œ×¦×¨×›×™× ×©×œ×•' },
        { question: '××™×š × ×‘× ×” ×”×××•×Ÿ ×‘×™× ×™× ×•?', answer: '×× ×—× ×• ××××™× ×™× ×‘×©×§×™×¤×•×ª ××œ××”, ×ª×§×©×•×¨×ª ×‘×¨×•×¨×” ×•×¢××™×“×” ×‘×”×‘×˜×—×•×ª' },
        { question: '××” ××—×¨×™ ×©×”×©×™×¨×•×ª ××¡×ª×™×™×?', answer: '×× ×—× ×• × ×©××¨×™× ×–××™× ×™× ×œ×›×œ ×©××œ×”, ×™×¢×•×¥ ××• ×©×™×¨×•×ª × ×•×¡×£ ×©×ª×¦×˜×¨×›×•' }
      ],
      aboutText: '×× ×—× ×• ××××™× ×™× ×©×›×œ ×œ×§×•×— ×™×™×—×•×“×™ ×•××’×™×¢ ×œ×©×™×¨×•×ª ×”××•×ª×× ×‘×“×™×•×§ ×œ×¦×¨×›×™× ×©×œ×•. ×× ×—× ×• ××©×§×™×¢×™× ×–××Ÿ ×œ×”×›×™×¨ ××ª×›×, ×œ×”×‘×™×Ÿ ××ª ×”××˜×¨×•×ª ×©×œ×›× ×•×œ×‘× ×•×ª ×¤×ª×¨×•×Ÿ ×©×™×‘×™× ×œ×›× ×‘×“×™×•×§ ××ª ××” ×©××ª× ×¦×¨×™×›×™×.',
      emotional: {
        title: '×”×©×•×ª×¤×™× ×©×œ×›× ×œ×”×¦×œ×—×”',
        content: '×× ×—× ×• ×œ× ×¨×§ × ×•×ª× ×™ ×©×™×¨×•×ª - ×× ×—× ×• ×”×©×•×ª×¤×™× ×©×œ×›× ×‘×“×¨×š ×œ×”×¦×œ×—×”. ×”×”×¦×œ×—×” ×©×œ×›× ×”×™× ×”××˜×¨×” ×©×œ× ×•, ×•×”×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ ×©×œ×›× ×”×™× ×”×¤×¨×¡ ×”×›×™ ×’×“×•×œ ×©×œ× ×•.'
      }
    }
  };

  // Find matching profession data
  const key = Object.keys(professionData).find(key => 
    businessType.toLowerCase().includes(key.toLowerCase())
  ) || 'default';
  
  const data = professionData[key];
  
  // Create enhanced features from user advantages
  const enhancedFeatures = advantages.length >= 3 ? 
    advantages.map((advantage, index) => {
      const cleanAdvantage = advantage.replace(/^\d+\.\s*/, '').trim();
      // Generate enhanced versions based on the advantage
      const enhancements = [
        `${cleanAdvantage} ×‘×¨××” ×”×’×‘×•×”×” ×‘×™×•×ª×¨`,
        `${cleanAdvantage} ×¢× ×œ×™×•×•×™ ××™×©×™`,
        `${cleanAdvantage} ×”××•×ª×× ×œ×›×œ ×œ×§×•×—`,
        `${cleanAdvantage} ×‘×’×™×©×” ×—×“×©× ×™×ª`,
        `${cleanAdvantage} ×¢× ××—×•×™×‘×•×ª ××œ××” ×œ×ª×•×¦××•×ª`
      ];
      return enhancements[index % enhancements.length];
    }) : 
    data.features;

  return {
    features: enhancedFeatures,
    testimonials: data.testimonials,
    faq: data.faq,
    aboutText: data.aboutText,
    emotional: data.emotional
  };
};

export const useContentGeneration = (formData: any) => {
  const [generatedContent, setGeneratedContent] = useState(null);

  const generateCreativeContent = useMemo(() => {
    return () => {
      const businessContent = getBusinessTypeContent(formData.businessType || '', formData.businessAdvantages || '');
      
      // Filter selected elements
      const selectedElements = formData.selectedElements || [];
      let creativeElements = [];

      if (selectedElements.includes('serviceCards')) {
        creativeElements.push({
          type: 'serviceCards',
          content: businessContent.features.slice(0, 4).map((feature, index) => ({
            title: feature,
            desc: `×¤×ª×¨×•×Ÿ ××§×¦×•×¢×™ ×•××•×ª×× ××™×©×™×ª ×‘×ª×—×•× ${feature.toLowerCase()}`,
            icon: ['â­', 'ğŸ†', 'ğŸ‘', 'â¤ï¸'][index]
          }))
        });
      }

      if (selectedElements.includes('timeline')) {
        creativeElements.push({
          type: 'timeline',
          content: [
            { step: '01', title: '×™×™×¢×•×¥ ×¨××©×•× ×™', desc: '× ×¤×’×©×™× ×œ×”×›×¨×ª ×”×¦×¨×›×™× ×•×”××˜×¨×•×ª ×©×œ×›×', color: '#3b82f6' },
            { step: '02', title: '×ª×›× ×•×Ÿ ×•×”×¦×¢×ª ××—×™×¨', desc: '××›×™× ×™× ×ª×›× ×™×ª ×¢×‘×•×“×” ××¤×•×¨×˜×ª ×•×©×§×•×¤×”', color: '#8b5cf6' },
            { step: '03', title: '×‘×™×¦×•×¢ ×”×¢×‘×•×“×”', desc: '××‘×¦×¢×™× ××ª ×”×¢×‘×•×“×” ×‘××§×¦×•×¢×™×•×ª ×•×‘×“×™×•×§', color: '#06b6d4' },
            { step: '04', title: '××¡×™×¨×” ×•××¢×§×‘', desc: '××•×¡×¨×™× ××ª ×”×¢×‘×•×“×” ×•× ×•×ª× ×™× ×œ×™×•×•×™ ××ª××©×š', color: '#10b981' }
          ]
        });
      }

      if (selectedElements.includes('pricing')) {
        creativeElements.push({
          type: 'pricing',
          content: [
            {
              name: '×—×‘×™×œ×” ×‘×¡×™×¡×™×ª',
              price: 'â‚ª999',
              period: '×—×•×“×©',
              features: businessContent.features.slice(0, 3),
              buttonText: '×”×ª×—×œ ×¢×›×©×™×•',
              highlighted: false
            },
            {
              name: '×—×‘×™×œ×” ××ª×§×“××ª',
              price: 'â‚ª1,999',
              period: '×—×•×“×©',
              features: businessContent.features,
              buttonText: '×”×›×™ ×¤×•×¤×•×œ×¨×™',
              highlighted: true
            },
            {
              name: '×—×‘×™×œ×” ××§×¦×•×¢×™×ª',
              price: 'â‚ª2,999',
              period: '×—×•×“×©',
              features: [...businessContent.features, '×ª××™×›×” 24/7', '×™×¢×•×¥ ××™×©×™'],
              buttonText: '×¦×•×¨ ×§×©×¨',
              highlighted: false
            }
          ]
        });
      }

      // Add emotional section as floating element if not already selected
      if (!selectedElements.includes('emotional')) {
        creativeElements.push({
          type: 'emotional',
          content: businessContent.emotional
        });
      }

      return {
        badge: `${formData.businessName || '×”×¢×¡×§ ×©×œ× ×•'} - ×”××§×•× ×”× ×›×•×Ÿ ×¢×‘×•×¨×›×`,
        headline: `${formData.businessName || '×”×¢×¡×§ ×©×œ× ×•'}`,
        subheadline: `${formData.targetAudience ? `×¤×ª×¨×•× ×•×ª ××§×¦×•×¢×™×™× ×¢×‘×•×¨ ${formData.targetAudience}` : '×”×¤×ª×¨×•×Ÿ ×”××•×©×œ× ×œ×›×œ ×”×¦×¨×›×™× ×©×œ×›×'}`,
        cta: '×¦×•×¨ ×§×©×¨ ×¢×›×©×™×•',
        stats: {
          '×œ×§×•×—×•×ª ××¨×•×¦×™×': '500+',
          '×©× ×•×ª × ×™×¡×™×•×Ÿ': '10+',
          '×¤×¨×•×™×§×˜×™×': '1,000+',
          '×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ': '98%'
        },
        featuresTitle: '×œ××” ×œ×‘×—×•×¨ ×‘× ×•?',
        features: businessContent.features,
        aboutTitle: `×¢×œ ${formData.businessName || '×”×¢×¡×§ ×©×œ× ×•'}`,
        aboutText: `${businessContent.aboutText} ×× ×—× ×• ×’××™× ×‘×”×™×¡×˜×•×¨×™×” ×©×œ× ×•, ×‘×¦×•×•×ª ×”××§×¦×•×¢×™ ×©×œ× ×• ×•×‘×’×™×©×” ×”×—×“×©× ×™×ª ×©×œ× ×• ×œ×›×œ ×¤×¨×•×™×§×˜. ×”××˜×¨×” ×©×œ× ×• ×”×™× ×œ× ×¨×§ ×œ×¡×¤×§ ×©×™×¨×•×ª, ××œ× ×œ×™×¦×•×¨ ×©×•×ª×¤×•×ª ×××™×ª×™×ª ×©×ª×‘×™× ×œ×›× ×ª×•×¦××•×ª ××¢×œ ×œ×¦×™×¤×™×•×ª.`,
        testimonials: businessContent.testimonials,
        faq: businessContent.faq,
        contactTitle: '×‘×•××• × ×ª×—×™×œ ×œ×¢×‘×•×“ ×™×—×“',
        creativeElements
      };
    };
  }, [formData]);

  return {
    generateCreativeContent,
    setGeneratedContent,
    generatedContent
  };
};

